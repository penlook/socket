language:
    - dart
    - go

with_content_shell: true

install:
    - eval "$(gimme 1.4.1)"
    - eval "$(export GOPATH=$HOME/gopath:)"
    - eval "$(export PATH=$HOME/gopath/bin:$PATH)"
    - mkdir -p $HOME/gopath/src/github.com/penlook/socket
    - rsync -az ${TRAVIS_BUILD_DIR}/ $HOME/gopath/src/github.com/penlook/socket/
    - eval "$(export TRAVIS_BUILD_DIR=$HOME/gopath/src/github.com/penlook/socket)"
    - cd $HOME/gopath/src/github.com/penlook/socket
    - go get -v ./...
    - go get github.com/stretchr/testify/assert

script:
    - go test